<?xml version="1.0" encoding="utf-8" standalone="yes"?><rss version="2.0" xmlns:atom="http://www.w3.org/2005/Atom"><channel><title>The DIY-student</title><link>https://www.nielsburghoorn.com/</link><description>Recent content on The DIY-student</description><generator>Hugo -- gohugo.io</generator><lastBuildDate>Mon, 19 Apr 2021 00:00:00 +0000</lastBuildDate><atom:link href="https://www.nielsburghoorn.com/index.xml" rel="self" type="application/rss+xml"/><item><title>Arduino-Phone</title><link>https://www.nielsburghoorn.com/post/arduino-phone/</link><pubDate>Mon, 19 Apr 2021 00:00:00 +0000</pubDate><guid>https://www.nielsburghoorn.com/post/arduino-phone/</guid><description>&lt;img src="https://www.nielsburghoorn.com/post/arduino-phone/pair_banner.jpg" alt="Featured image of post Arduino-Phone" />&lt;!-- raw HTML omitted -->
&lt;h3 id="what-is-this-ard-wino-fone">What is this&amp;hellip; ard-wino-fone?&lt;/h3>
&lt;p>We are going to build a small three-LED arduino communication device, known as the &lt;strong>Arduino-Phone&lt;/strong>.
The device will be able to send 3 different signals to it&amp;rsquo;s counterpart, and shall also be able to receive these signals back.
The device is operated using simple buttons and will display the reception or transmission using its LEDs.
The Arduino-Phone definitely does not fall into the category of &lt;em>revolutionairy technology&lt;/em>, but still is a pretty cool device.&lt;/p>
&lt;!-- raw HTML omitted -->
&lt;p>The layout of the system will look a something like this (left) and the final product will look this (right).
&lt;figure style="flex-grow: 108; flex-basis: 260px">
&lt;a href="https://www.nielsburghoorn.com/post/arduino-phone/schematic%282%29.png" data-size="1056x972">&lt;img src="https://www.nielsburghoorn.com/post/arduino-phone/schematic%282%29.png"
srcset="https://www.nielsburghoorn.com/post/arduino-phone/schematic%282%29_hu952b88a88ba5ae903180d8c0f59c016e_147085_480x0_resize_box_2.png 480w, https://www.nielsburghoorn.com/post/arduino-phone/schematic%282%29_hu952b88a88ba5ae903180d8c0f59c016e_147085_1024x0_resize_box_2.png 1024w"
width="1056"
height="972"
loading="lazy"
alt="overview of system">
&lt;/a>
&lt;figcaption>overview of system&lt;/figcaption>
&lt;/figure> &lt;figure style="flex-grow: 136; flex-basis: 328px">
&lt;a href="https://www.nielsburghoorn.com/post/arduino-phone/device_finished1.jpeg" data-size="1517x1109">&lt;img src="https://www.nielsburghoorn.com/post/arduino-phone/device_finished1.jpeg"
srcset="https://www.nielsburghoorn.com/post/arduino-phone/device_finished1_hubfce92224285f11a74497166186cf82e_287749_480x0_resize_q75_box.jpeg 480w, https://www.nielsburghoorn.com/post/arduino-phone/device_finished1_hubfce92224285f11a74497166186cf82e_287749_1024x0_resize_q75_box.jpeg 1024w"
width="1517"
height="1109"
loading="lazy"
alt="yes, I know&amp;hellip; she is a miracle of amazement">
&lt;/a>
&lt;figcaption>yes, I know… she is a miracle of amazement&lt;/figcaption>
&lt;/figure>&lt;/p>
&lt;h3 id="stuff">Stuff&lt;/h3>
&lt;p>Everything you need in order to buid a single Arduino-Phone is roughly worth €10. These are the parts that are used up:&lt;/p>
&lt;ul>
&lt;li>RF-nano ~ €5 (Arduino-nano integrated with nRF24L01 tranceiver)&lt;/li>
&lt;li>components ~ €5 (buy a pack)
&lt;ul>
&lt;li>3 LEDs&lt;/li>
&lt;li>3 Buttons&lt;/li>
&lt;li>2 resistors&lt;/li>
&lt;/ul>
&lt;/li>
&lt;/ul>
&lt;p>Additinally you need some soldering equiptment and some hobby tools. These you can use again (or will only require a little piece):&lt;/p>
&lt;ul>
&lt;li>soldering iron (any soldering iron is good enough)&lt;/li>
&lt;li>solder&lt;/li>
&lt;li>USB to micro-USB cable (you&amp;rsquo;ve got this laying around somewhere)&lt;/li>
&lt;li>wire&lt;/li>
&lt;li>pliers (for cutting and holding)&lt;/li>
&lt;li>carton and scissors&lt;/li>
&lt;li>glue&lt;/li>
&lt;/ul>
&lt;p>&lt;figure style="flex-grow: 133; flex-basis: 320px">
&lt;a href="https://www.nielsburghoorn.com/post/arduino-phone/rs_RF-nano1.jpeg" data-size="2048x1536">&lt;img src="https://www.nielsburghoorn.com/post/arduino-phone/rs_RF-nano1.jpeg"
srcset="https://www.nielsburghoorn.com/post/arduino-phone/rs_RF-nano1_hu7ff5fe7e06bd3ed8d265e6c27a652fda_403060_480x0_resize_q75_box.jpeg 480w, https://www.nielsburghoorn.com/post/arduino-phone/rs_RF-nano1_hu7ff5fe7e06bd3ed8d265e6c27a652fda_403060_1024x0_resize_q75_box.jpeg 1024w"
width="2048"
height="1536"
loading="lazy"
alt="RF-nano">
&lt;/a>
&lt;figcaption>RF-nano&lt;/figcaption>
&lt;/figure> &lt;figure style="flex-grow: 133; flex-basis: 320px">
&lt;a href="https://www.nielsburghoorn.com/post/arduino-phone/rs_cable.jpeg" data-size="2048x1536">&lt;img src="https://www.nielsburghoorn.com/post/arduino-phone/rs_cable.jpeg"
srcset="https://www.nielsburghoorn.com/post/arduino-phone/rs_cable_hu7ff5fe7e06bd3ed8d265e6c27a652fda_284355_480x0_resize_q75_box.jpeg 480w, https://www.nielsburghoorn.com/post/arduino-phone/rs_cable_hu7ff5fe7e06bd3ed8d265e6c27a652fda_284355_1024x0_resize_q75_box.jpeg 1024w"
width="2048"
height="1536"
loading="lazy"
alt="USB to micro-USB (data) cable">
&lt;/a>
&lt;figcaption>USB to micro-USB (data) cable&lt;/figcaption>
&lt;/figure> &lt;figure style="flex-grow: 133; flex-basis: 320px">
&lt;a href="https://www.nielsburghoorn.com/post/arduino-phone/rs_leds_buttons_resistors.jpeg" data-size="2048x1536">&lt;img src="https://www.nielsburghoorn.com/post/arduino-phone/rs_leds_buttons_resistors.jpeg"
srcset="https://www.nielsburghoorn.com/post/arduino-phone/rs_leds_buttons_resistors_hu7ff5fe7e06bd3ed8d265e6c27a652fda_257629_480x0_resize_q75_box.jpeg 480w, https://www.nielsburghoorn.com/post/arduino-phone/rs_leds_buttons_resistors_hu7ff5fe7e06bd3ed8d265e6c27a652fda_257629_1024x0_resize_q75_box.jpeg 1024w"
width="2048"
height="1536"
loading="lazy"
alt="3 LEDs, 3 buttons and 2 resistors">
&lt;/a>
&lt;figcaption>3 LEDs, 3 buttons and 2 resistors&lt;/figcaption>
&lt;/figure>&lt;/p>
&lt;p>&lt;figure style="flex-grow: 133; flex-basis: 320px">
&lt;a href="https://www.nielsburghoorn.com/post/arduino-phone/rs_soldering_iron.jpeg" data-size="2048x1536">&lt;img src="https://www.nielsburghoorn.com/post/arduino-phone/rs_soldering_iron.jpeg"
srcset="https://www.nielsburghoorn.com/post/arduino-phone/rs_soldering_iron_hu7ff5fe7e06bd3ed8d265e6c27a652fda_319329_480x0_resize_q75_box.jpeg 480w, https://www.nielsburghoorn.com/post/arduino-phone/rs_soldering_iron_hu7ff5fe7e06bd3ed8d265e6c27a652fda_319329_1024x0_resize_q75_box.jpeg 1024w"
width="2048"
height="1536"
loading="lazy"
alt="Soldering iron">
&lt;/a>
&lt;figcaption>Soldering iron&lt;/figcaption>
&lt;/figure> &lt;figure style="flex-grow: 133; flex-basis: 320px">
&lt;a href="https://www.nielsburghoorn.com/post/arduino-phone/rs_wire.jpeg" data-size="2048x1536">&lt;img src="https://www.nielsburghoorn.com/post/arduino-phone/rs_wire.jpeg"
srcset="https://www.nielsburghoorn.com/post/arduino-phone/rs_wire_hu7ff5fe7e06bd3ed8d265e6c27a652fda_331445_480x0_resize_q75_box.jpeg 480w, https://www.nielsburghoorn.com/post/arduino-phone/rs_wire_hu7ff5fe7e06bd3ed8d265e6c27a652fda_331445_1024x0_resize_q75_box.jpeg 1024w"
width="2048"
height="1536"
loading="lazy"
alt="Wire, only little bit&amp;hellip;">
&lt;/a>
&lt;figcaption>Wire, only little bit…&lt;/figcaption>
&lt;/figure> &lt;figure style="flex-grow: 75; flex-basis: 180px">
&lt;a href="https://www.nielsburghoorn.com/post/arduino-phone/pliers.jpeg" data-size="1536x2048">&lt;img src="https://www.nielsburghoorn.com/post/arduino-phone/pliers.jpeg"
srcset="https://www.nielsburghoorn.com/post/arduino-phone/pliers_hu7ff5fe7e06bd3ed8d265e6c27a652fda_375771_480x0_resize_q75_box.jpeg 480w, https://www.nielsburghoorn.com/post/arduino-phone/pliers_hu7ff5fe7e06bd3ed8d265e6c27a652fda_375771_1024x0_resize_q75_box.jpeg 1024w"
width="1536"
height="2048"
loading="lazy"
alt="Pliers with cutting blades">
&lt;/a>
&lt;figcaption>Pliers with cutting blades&lt;/figcaption>
&lt;/figure>&lt;/p>
&lt;p>&lt;figure style="flex-grow: 191; flex-basis: 459px">
&lt;a href="https://www.nielsburghoorn.com/post/arduino-phone/rs_boxes2.jpeg" data-size="1491x779">&lt;img src="https://www.nielsburghoorn.com/post/arduino-phone/rs_boxes2.jpeg"
srcset="https://www.nielsburghoorn.com/post/arduino-phone/rs_boxes2_hue514b780bbd44969d8a8a5e087b4b577_304228_480x0_resize_q75_box.jpeg 480w, https://www.nielsburghoorn.com/post/arduino-phone/rs_boxes2_hue514b780bbd44969d8a8a5e087b4b577_304228_1024x0_resize_q75_box.jpeg 1024w"
width="1491"
height="779"
loading="lazy"
alt="A part of the box these things came in, i.e. carton">
&lt;/a>
&lt;figcaption>A part of the box these things came in, i.e. carton&lt;/figcaption>
&lt;/figure> &lt;figure style="flex-grow: 133; flex-basis: 320px">
&lt;a href="https://www.nielsburghoorn.com/post/arduino-phone/rs_glue.jpeg" data-size="2048x1536">&lt;img src="https://www.nielsburghoorn.com/post/arduino-phone/rs_glue.jpeg"
srcset="https://www.nielsburghoorn.com/post/arduino-phone/rs_glue_hu7ff5fe7e06bd3ed8d265e6c27a652fda_191561_480x0_resize_q75_box.jpeg 480w, https://www.nielsburghoorn.com/post/arduino-phone/rs_glue_hu7ff5fe7e06bd3ed8d265e6c27a652fda_191561_1024x0_resize_q75_box.jpeg 1024w"
width="2048"
height="1536"
loading="lazy"
alt="The cheapest glue you can find">
&lt;/a>
&lt;figcaption>The cheapest glue you can find&lt;/figcaption>
&lt;/figure> &lt;figure style="flex-grow: 133; flex-basis: 320px">
&lt;a href="https://www.nielsburghoorn.com/post/arduino-phone/rs_tin.jpeg" data-size="2048x1536">&lt;img src="https://www.nielsburghoorn.com/post/arduino-phone/rs_tin.jpeg"
srcset="https://www.nielsburghoorn.com/post/arduino-phone/rs_tin_hu7ff5fe7e06bd3ed8d265e6c27a652fda_318214_480x0_resize_q75_box.jpeg 480w, https://www.nielsburghoorn.com/post/arduino-phone/rs_tin_hu7ff5fe7e06bd3ed8d265e6c27a652fda_318214_1024x0_resize_q75_box.jpeg 1024w"
width="2048"
height="1536"
loading="lazy"
alt="Some solder, ideally lead-free">
&lt;/a>
&lt;figcaption>Some solder, ideally lead-free&lt;/figcaption>
&lt;/figure>&lt;/p>
&lt;p>Where can you get your hands on these things?&lt;/p>
&lt;ul>
&lt;li>Amazon&lt;/li>
&lt;li>Local or online electronics store&lt;/li>
&lt;li>&lt;del>My house&lt;/del>&lt;/li>
&lt;/ul>
&lt;!-- raw HTML omitted -->
&lt;p>&lt;em>Why&lt;/em> are we going to build it? Well&amp;hellip; &amp;ndash;&lt;strong>It is cool and it is cheap&lt;/strong>&amp;ndash; Let&amp;rsquo;s ask ourselves later whether it is useful.&lt;/p>
&lt;!-- raw HTML omitted -->
&lt;blockquote>
&lt;p>Sidenotes&lt;/p>
&lt;ul>
&lt;li>&lt;em>When you are following this tutorial yourself, keep in mind a single device will not do much&amp;hellip; You will need at least two. This tutorial will only show one.&lt;/em>&lt;/li>
&lt;li>&lt;em>A soldering iron is hot&lt;/em>&lt;/li>
&lt;li>&lt;em>This device can also just be used to connect to a different kind of actuator. The LEDs can be replaced by a motor and the buttons by a sensor!&lt;/em>&lt;/li>
&lt;li>&lt;em>This range of the 2 devices is limited, but I will later explain how to extend this range with an antenna.&lt;/em>&lt;/li>
&lt;li>&lt;em>A soldering iron is very hot&lt;/em>&lt;/li>
&lt;li>&lt;em>The things touched by the soldering iron also tend to get hot&lt;/em>&lt;/li>
&lt;/ul>
&lt;/blockquote>
&lt;!-- raw HTML omitted -->
&lt;p>Lets dive in.&lt;/p>
&lt;h1 id="build-the-thing">Build the thing&lt;/h1>
&lt;h3 id="lay-it-out">Lay it out&lt;/h3>
&lt;p>Choose the resistors you are going to use carefully, do not use a high resistance for the LEDs (~1kOhm is fine), because you want those &lt;strong>bright lights&lt;/strong>. For the button-side, any resistor is okay.
Now have a good look at the schematic, gather your parts and layout all the stuff you are going to use.
Be sure to set the soldering iron be on the side of the table where you&amp;rsquo;ll be working from (do not turn it on yet).
To start, cut out two equal rectangles (~ 8x5cm) of carton with some scissors or a knife (or rip it apart with your bare hands like a beast).
Look at the schematic again, and visualize where the parts are roughly going to be.&lt;/p>
&lt;p>&lt;figure style="flex-grow: 88; flex-basis: 213px">
&lt;a href="https://www.nielsburghoorn.com/post/arduino-phone/materials3.jpeg" data-size="1527x1717">&lt;img src="https://www.nielsburghoorn.com/post/arduino-phone/materials3.jpeg"
srcset="https://www.nielsburghoorn.com/post/arduino-phone/materials3_hu47cb6f07630b2a64cff3caabf701e756_528319_480x0_resize_q75_box.jpeg 480w, https://www.nielsburghoorn.com/post/arduino-phone/materials3_hu47cb6f07630b2a64cff3caabf701e756_528319_1024x0_resize_q75_box.jpeg 1024w"
width="1527"
height="1717"
loading="lazy"
alt="Layout of the components">
&lt;/a>
&lt;figcaption>Layout of the components&lt;/figcaption>
&lt;/figure> &lt;figure style="flex-grow: 75; flex-basis: 180px">
&lt;a href="https://www.nielsburghoorn.com/post/arduino-phone/piece_of_carton.jpeg" data-size="1536x2048">&lt;img src="https://www.nielsburghoorn.com/post/arduino-phone/piece_of_carton.jpeg"
srcset="https://www.nielsburghoorn.com/post/arduino-phone/piece_of_carton_hue14c79debe9f22e755dc38f3731e291d_275195_480x0_resize_q75_box.jpeg 480w, https://www.nielsburghoorn.com/post/arduino-phone/piece_of_carton_hue14c79debe9f22e755dc38f3731e291d_275195_1024x0_resize_q75_box.jpeg 1024w"
width="1536"
height="2048"
loading="lazy"
alt="Carton. I did it with scissor, I must admit">
&lt;/a>
&lt;figcaption>Carton. I did it with scissor, I must admit&lt;/figcaption>
&lt;/figure>&lt;/p>
&lt;!-- raw HTML omitted -->
&lt;h3 id="pierce-the-carton">Pierce the carton&lt;/h3>
&lt;p>One of the cartons will be on the top surface of the device, so try not to damage it. Having said that, we do need to pierce the LED legs and the button&amp;rsquo;s contacts through it. For the LEDS this is simple, pick the spot and pierce the leg from top to bottom.&lt;/p>
&lt;blockquote>
&lt;p>Leave enough room for the RF-nano on the other side to fit in-between the button contacts and the LED legs.&lt;/p>
&lt;/blockquote>
&lt;p>The button contacts might be too short to pierce all the way through your carton. In this case strip away the carton skin to reveal the contacts (see right picture below). This can be done with any sharp tool. I used the single scissor blade, but if you have a katana laying around, that would be&amp;hellip; impractical.
&lt;figure style="flex-grow: 75; flex-basis: 180px">
&lt;a href="https://www.nielsburghoorn.com/post/arduino-phone/carton_with_leds2.jpeg" data-size="1536x2048">&lt;img src="https://www.nielsburghoorn.com/post/arduino-phone/carton_with_leds2.jpeg"
srcset="https://www.nielsburghoorn.com/post/arduino-phone/carton_with_leds2_hu257d548446415b5327a527819a308d1e_240656_480x0_resize_q75_box.jpeg 480w, https://www.nielsburghoorn.com/post/arduino-phone/carton_with_leds2_hu257d548446415b5327a527819a308d1e_240656_1024x0_resize_q75_box.jpeg 1024w"
width="1536"
height="2048"
loading="lazy"
alt="Pierced LEDs through top carton">
&lt;/a>
&lt;figcaption>Pierced LEDs through top carton&lt;/figcaption>
&lt;/figure>&lt;figure style="flex-grow: 75; flex-basis: 180px">
&lt;a href="https://www.nielsburghoorn.com/post/arduino-phone/carton_with_leds_buttons.jpeg" data-size="1536x2048">&lt;img src="https://www.nielsburghoorn.com/post/arduino-phone/carton_with_leds_buttons.jpeg"
srcset="https://www.nielsburghoorn.com/post/arduino-phone/carton_with_leds_buttons_hu4c014f2170fe2598e7e4ad79eceb773d_448876_480x0_resize_q75_box.jpeg 480w, https://www.nielsburghoorn.com/post/arduino-phone/carton_with_leds_buttons_hu4c014f2170fe2598e7e4ad79eceb773d_448876_1024x0_resize_q75_box.jpeg 1024w"
width="1536"
height="2048"
loading="lazy"
alt="The high-tech user interface">
&lt;/a>
&lt;figcaption>The high-tech user interface&lt;/figcaption>
&lt;/figure>&lt;figure style="flex-grow: 75; flex-basis: 180px">
&lt;a href="https://www.nielsburghoorn.com/post/arduino-phone/carton_with_leds_buttons2.jpeg" data-size="1536x2048">&lt;img src="https://www.nielsburghoorn.com/post/arduino-phone/carton_with_leds_buttons2.jpeg"
srcset="https://www.nielsburghoorn.com/post/arduino-phone/carton_with_leds_buttons2_hue72edcf7bc102349673f23a287321b0c_510132_480x0_resize_q75_box.jpeg 480w, https://www.nielsburghoorn.com/post/arduino-phone/carton_with_leds_buttons2_hue72edcf7bc102349673f23a287321b0c_510132_1024x0_resize_q75_box.jpeg 1024w"
width="1536"
height="2048"
loading="lazy"
alt="The underside of the top carton, removed carton skin aroun the button contacts">
&lt;/a>
&lt;figcaption>The underside of the top carton, removed carton skin aroun the button contacts&lt;/figcaption>
&lt;/figure>&lt;/p>
&lt;p>For the legs: once are pierced through, bend them slightly outward such that they do not fall out. For the button contacts: the pairs closest to the LEDs will be used, otherwise unwanted nano-to-button contact might be made. The other 2x3 button contacts at the edge can be bend towards the middle to fix the button to the carton.&lt;/p>
&lt;p>The top carton is done now. But the bottom carton is getting jalous and also wants a piercing. We will imprint the RF-nano pins on this bottom carton on the inside. They will not pierce all the way through, but their imprint will allow smooth alignment later on. For the imprint
➡ place the RF-nano upside-down on the flipped top carton
➡ make sure the USB port is at the edge and the RF-nano is in-between the exposed (center) button contacts and the LED legs
➡ align the bottom carton
➡ lift the bottom carton together with the RF-nano without shifting it
➡ imprint the bottom carton gently
➡ check the alignment.
&lt;figure style="flex-grow: 111; flex-basis: 267px">
&lt;a href="https://www.nielsburghoorn.com/post/arduino-phone/layout_bottom_carton2.jpeg" data-size="1121x1005">&lt;img src="https://www.nielsburghoorn.com/post/arduino-phone/layout_bottom_carton2.jpeg"
srcset="https://www.nielsburghoorn.com/post/arduino-phone/layout_bottom_carton2_hu7a77a549e002702a613b39b4d63b6129_212669_480x0_resize_q75_box.jpeg 480w, https://www.nielsburghoorn.com/post/arduino-phone/layout_bottom_carton2_hu7a77a549e002702a613b39b4d63b6129_212669_1024x0_resize_q75_box.jpeg 1024w"
width="1121"
height="1005"
loading="lazy"
alt="Align the top and bottom carton with RF-nano USB port to at side">
&lt;/a>
&lt;figcaption>Align the top and bottom carton with RF-nano USB port to at side&lt;/figcaption>
&lt;/figure> &lt;figure style="flex-grow: 94; flex-basis: 227px">
&lt;a href="https://www.nielsburghoorn.com/post/arduino-phone/layout_bottom_carton3.jpeg" data-size="1228x1296">&lt;img src="https://www.nielsburghoorn.com/post/arduino-phone/layout_bottom_carton3.jpeg"
srcset="https://www.nielsburghoorn.com/post/arduino-phone/layout_bottom_carton3_hub3226e8a43db56e27d386d06d2ca9ee4_279027_480x0_resize_q75_box.jpeg 480w, https://www.nielsburghoorn.com/post/arduino-phone/layout_bottom_carton3_hub3226e8a43db56e27d386d06d2ca9ee4_279027_1024x0_resize_q75_box.jpeg 1024w"
width="1228"
height="1296"
loading="lazy"
alt="Imprint the bottom carton">
&lt;/a>
&lt;figcaption>Imprint the bottom carton&lt;/figcaption>
&lt;/figure> &lt;figure style="flex-grow: 106; flex-basis: 256px">
&lt;a href="https://www.nielsburghoorn.com/post/arduino-phone/layout_bottom_carton1.jpeg" data-size="1468x1372">&lt;img src="https://www.nielsburghoorn.com/post/arduino-phone/layout_bottom_carton1.jpeg"
srcset="https://www.nielsburghoorn.com/post/arduino-phone/layout_bottom_carton1_hu9691314f172a3cabe1ba87f4d0f43cb5_336144_480x0_resize_q75_box.jpeg 480w, https://www.nielsburghoorn.com/post/arduino-phone/layout_bottom_carton1_hu9691314f172a3cabe1ba87f4d0f43cb5_336144_1024x0_resize_q75_box.jpeg 1024w"
width="1468"
height="1372"
loading="lazy"
alt="Check the imprint">
&lt;/a>
&lt;figcaption>Check the imprint&lt;/figcaption>
&lt;/figure>&lt;/p>
&lt;h3 id="prepare-the-wires">Prepare the wires&lt;/h3>
&lt;p>Now, 12 wires must be cut to a fitting length. Try to imagine where all the components will be (look at the schematic) on the underside of the top carton and make the wires 1cm longer than needed. Having cut these ill-fated little lines, we are going to cut them again. However, now only the insulation must be removed. To do this you can get creative (or bite it off like a beast), but the easiest way is to use some cutting pliers and gently cut 0.5cm of the isolation away on either side.&lt;/p>
&lt;p>&lt;figure style="flex-grow: 58; flex-basis: 139px">
&lt;a href="https://www.nielsburghoorn.com/post/arduino-phone/wires_measured.jpeg" data-size="1097x1881">&lt;img src="https://www.nielsburghoorn.com/post/arduino-phone/wires_measured.jpeg"
srcset="https://www.nielsburghoorn.com/post/arduino-phone/wires_measured_hub6a16467b09102e127e1e20347fb9072_193018_480x0_resize_q75_box.jpeg 480w, https://www.nielsburghoorn.com/post/arduino-phone/wires_measured_hub6a16467b09102e127e1e20347fb9072_193018_1024x0_resize_q75_box.jpeg 1024w"
width="1097"
height="1881"
loading="lazy"
alt="Cut them">
&lt;/a>
&lt;figcaption>Cut them&lt;/figcaption>
&lt;/figure> &lt;figure style="flex-grow: 103; flex-basis: 248px">
&lt;a href="https://www.nielsburghoorn.com/post/arduino-phone/wire_stripping2.jpeg" data-size="1515x1461">&lt;img src="https://www.nielsburghoorn.com/post/arduino-phone/wire_stripping2.jpeg"
srcset="https://www.nielsburghoorn.com/post/arduino-phone/wire_stripping2_hu73e92c2920d16c0e517e835da90615a0_204062_480x0_resize_q75_box.jpeg 480w, https://www.nielsburghoorn.com/post/arduino-phone/wire_stripping2_hu73e92c2920d16c0e517e835da90615a0_204062_1024x0_resize_q75_box.jpeg 1024w"
width="1515"
height="1461"
loading="lazy"
alt="Cut them again">
&lt;/a>
&lt;figcaption>Cut them again&lt;/figcaption>
&lt;/figure> &lt;figure style="flex-grow: 75; flex-basis: 180px">
&lt;a href="https://www.nielsburghoorn.com/post/arduino-phone/layout_wire_carton_RF-nano_resistors.jpeg" data-size="1536x2048">&lt;img src="https://www.nielsburghoorn.com/post/arduino-phone/layout_wire_carton_RF-nano_resistors.jpeg"
srcset="https://www.nielsburghoorn.com/post/arduino-phone/layout_wire_carton_RF-nano_resistors_hu331bfbf473f17d535163cad52caf6967_357153_480x0_resize_q75_box.jpeg 480w, https://www.nielsburghoorn.com/post/arduino-phone/layout_wire_carton_RF-nano_resistors_hu331bfbf473f17d535163cad52caf6967_357153_1024x0_resize_q75_box.jpeg 1024w"
width="1536"
height="2048"
loading="lazy"
alt="Lay them out">
&lt;/a>
&lt;figcaption>Lay them out&lt;/figcaption>
&lt;/figure>&lt;/p>
&lt;p>Next up, we prepare the wires for the soldering. Guess how? by soldering&amp;hellip;&lt;/p>
&lt;blockquote>
&lt;p>This part is serious though. Be carefull with the soldering iron, &lt;strong>touching it will result in burns&lt;/strong>. Also, open a window to let some of those smelly solder-flux-fumes out.&lt;/p>
&lt;/blockquote>
&lt;p>The wires will need to be twisted and &amp;ldquo;tinned&amp;rdquo; (applying a little solder), such that proper contact can be made. Use your fingers to twist the little copper wires in the stranded-wire. After this you can turn-on your soldering iron. While the iron is heating (~ 3min) you can clamp the wires somewhere accessible, such that you have two hands available: one for the solder, one for the iron. While clamping, make sure that the wires won&amp;rsquo;t deflect too much when touched.&lt;/p>
&lt;p>When the iron is hot
➡ clean the iron tip on a sponge
➡ re-apply some solder to the tip
➡ hold the iron against the exposed wire (2s)
➡ bring in the solder at the wire-iron interface (which will melt on the wire)
&lt;/p>
&lt;p>&lt;figure style="flex-grow: 137; flex-basis: 330px">
&lt;a href="https://www.nielsburghoorn.com/post/arduino-phone/wire_tip2.jpeg" data-size="817x593">&lt;img src="https://www.nielsburghoorn.com/post/arduino-phone/wire_tip2.jpeg"
srcset="https://www.nielsburghoorn.com/post/arduino-phone/wire_tip2_huf716f58db98666825f1f6581acf722a9_59708_480x0_resize_q75_box.jpeg 480w, https://www.nielsburghoorn.com/post/arduino-phone/wire_tip2_huf716f58db98666825f1f6581acf722a9_59708_1024x0_resize_q75_box.jpeg 1024w"
width="817"
height="593"
loading="lazy"
alt="Pre-twist">
&lt;/a>
&lt;figcaption>Pre-twist&lt;/figcaption>
&lt;/figure> &lt;figure style="flex-grow: 106; flex-basis: 255px">
&lt;a href="https://www.nielsburghoorn.com/post/arduino-phone/wire_tip_twisted2.jpeg" data-size="841x789">&lt;img src="https://www.nielsburghoorn.com/post/arduino-phone/wire_tip_twisted2.jpeg"
srcset="https://www.nielsburghoorn.com/post/arduino-phone/wire_tip_twisted2_huf642265368cd8e393738974d81144dbf_79317_480x0_resize_q75_box.jpeg 480w, https://www.nielsburghoorn.com/post/arduino-phone/wire_tip_twisted2_huf642265368cd8e393738974d81144dbf_79317_1024x0_resize_q75_box.jpeg 1024w"
width="841"
height="789"
loading="lazy"
alt="Post-twist">
&lt;/a>
&lt;figcaption>Post-twist&lt;/figcaption>
&lt;/figure> &lt;figure style="flex-grow: 130; flex-basis: 312px">
&lt;a href="https://www.nielsburghoorn.com/post/arduino-phone/wire_tip_tinned1.jpeg" data-size="761x585">&lt;img src="https://www.nielsburghoorn.com/post/arduino-phone/wire_tip_tinned1.jpeg"
srcset="https://www.nielsburghoorn.com/post/arduino-phone/wire_tip_tinned1_hu9e31504dfb807718afe89618c5d211e4_63590_480x0_resize_q75_box.jpeg 480w, https://www.nielsburghoorn.com/post/arduino-phone/wire_tip_tinned1_hu9e31504dfb807718afe89618c5d211e4_63590_1024x0_resize_q75_box.jpeg 1024w"
width="761"
height="585"
loading="lazy"
alt="No-twist (only a plot-twist). Its soldered">
&lt;/a>
&lt;figcaption>No-twist (only a plot-twist). Its soldered&lt;/figcaption>
&lt;/figure>&lt;/p>
&lt;p>The last wire-step will be connecting the wires to the resistor (three ground-wires). First attach some solder-wire (with the flux core) to the resistor. Do this by
➡ clamping the resistor
➡ clean iron
➡ reapply solder to iron
➡ heat resistor with iron (2s)
➡ bring in the solder
➡ remove the iron and let the solder-wire solidify on the resistor
➡ cut the solder-wire close to the resistor with the iron.
&lt;/p>
&lt;p>Once you have your resistor-solder beauty
➡ clamp the three wires close to each other
➡ clean iron
➡ reapply solder to iron
➡ heat the wires simultaneously (1s)
➡ bring in the resistor-solder with pliers
➡ let the solder from the resistor melt on the wires
➡ remove the iron and let it solidify.
Do this nifty trick twice (credits to &lt;a class="link" href="https://youtu.be/IkjMK26ROcM" target="_blank" rel="noopener"
>this guy&lt;/a>).&lt;/p>
&lt;p>&lt;figure style="flex-grow: 213; flex-basis: 511px">
&lt;a href="https://www.nielsburghoorn.com/post/arduino-phone/resistor_wires_tinned2.jpeg" data-size="1145x537">&lt;img src="https://www.nielsburghoorn.com/post/arduino-phone/resistor_wires_tinned2.jpeg"
srcset="https://www.nielsburghoorn.com/post/arduino-phone/resistor_wires_tinned2_hu9b1d381cc7e342d184e34f504586f6be_108632_480x0_resize_q75_box.jpeg 480w, https://www.nielsburghoorn.com/post/arduino-phone/resistor_wires_tinned2_hu9b1d381cc7e342d184e34f504586f6be_108632_1024x0_resize_q75_box.jpeg 1024w"
width="1145"
height="537"
loading="lazy"
alt="Resistor-solder beauty">
&lt;/a>
&lt;figcaption>Resistor-solder beauty&lt;/figcaption>
&lt;/figure> &lt;figure style="flex-grow: 136; flex-basis: 328px">
&lt;a href="https://www.nielsburghoorn.com/post/arduino-phone/resistor_wires_connected2.jpeg" data-size="1523x1113">&lt;img src="https://www.nielsburghoorn.com/post/arduino-phone/resistor_wires_connected2.jpeg"
srcset="https://www.nielsburghoorn.com/post/arduino-phone/resistor_wires_connected2_hu6cf37467e223d05c32ae2cc70ebaddac_247158_480x0_resize_q75_box.jpeg 480w, https://www.nielsburghoorn.com/post/arduino-phone/resistor_wires_connected2_hu6cf37467e223d05c32ae2cc70ebaddac_247158_1024x0_resize_q75_box.jpeg 1024w"
width="1523"
height="1113"
loading="lazy"
alt="Resistor-solder-wires beauty&amp;rsquo;er">
&lt;/a>
&lt;figcaption>Resistor-solder-wires beauty’er&lt;/figcaption>
&lt;/figure>&lt;/p>
&lt;h3 id="soldering">Soldering&lt;/h3>
&lt;p>Now we are going to solder all the wires and the two resistor-solder-wires to the RF-nano. It is important to keep the RF-nano immobile, which can be achieved with a simple clip or something heavy. First we attach the 2 resistors: one resistor to each ground pin (labeled GND). We can also solder the remaining input-wires to the RF-nano. See the solder plan below.&lt;/p>
&lt;blockquote>
&lt;p>In order to make a good mechanical connection and to leave room for the bottom carton I suggest you bend all the to-be-soldered contact pins outward. This will also make identification and soldering easier.&lt;/p>
&lt;/blockquote>
&lt;p>Check out the schematic again and solder all the wires and the two resistors to the appropriate RF-nano pins (6 wires, 2 resistor-solder-wires). We can precede this by putting some solder on the to-be-soldered-to pins:
➡ immobilize the RF-nano
➡ clean iron
➡ reapply solder to iron
➡ heat the to-be-soldered-to pin (3s)
➡ bring in the solder
➡ let solder cool down
➡ now grasp to-be-soldered wire/resistor with pliers
➡ reheat the to-be-soldered-to pin with iron
➡ bring in the to-be-soldered wire/resistor
➡ remove the iron and let it solidify.
&lt;/p>
&lt;p>&lt;figure style="flex-grow: 116; flex-basis: 279px">
&lt;a href="https://www.nielsburghoorn.com/post/arduino-phone/schematic_soldering.png" data-size="1078x925">&lt;img src="https://www.nielsburghoorn.com/post/arduino-phone/schematic_soldering.png"
srcset="https://www.nielsburghoorn.com/post/arduino-phone/schematic_soldering_hu4a6d6b410298eeea343b453da1a90c7b_119227_480x0_resize_box_2.png 480w, https://www.nielsburghoorn.com/post/arduino-phone/schematic_soldering_hu4a6d6b410298eeea343b453da1a90c7b_119227_1024x0_resize_box_2.png 1024w"
width="1078"
height="925"
loading="lazy"
alt="The soldering plan">
&lt;/a>
&lt;figcaption>The soldering plan&lt;/figcaption>
&lt;/figure> &lt;figure style="flex-grow: 109; flex-basis: 263px">
&lt;a href="https://www.nielsburghoorn.com/post/arduino-phone/RF_nano_final_layout_presolder.jpeg" data-size="664x605">&lt;img src="https://www.nielsburghoorn.com/post/arduino-phone/RF_nano_final_layout_presolder.jpeg"
srcset="https://www.nielsburghoorn.com/post/arduino-phone/RF_nano_final_layout_presolder_hue4d6b1cd029bc6753b6a982474393493_144372_480x0_resize_q75_box.jpeg 480w, https://www.nielsburghoorn.com/post/arduino-phone/RF_nano_final_layout_presolder_hue4d6b1cd029bc6753b6a982474393493_144372_1024x0_resize_q75_box.jpeg 1024w"
width="664"
height="605"
loading="lazy"
alt="The makings of an Arduino-Phone are in sight">
&lt;/a>
&lt;figcaption>The makings of an Arduino-Phone are in sight&lt;/figcaption>
&lt;/figure>&lt;/p>
&lt;p>Now it gets tricky. Next up are the button contacts, these are the most difficult. Make sure to heat these contacts very well before applying the solder. Same procedure:
➡ camp the carton with the buttons (bottom-side up)
➡ clean iron
➡ reapply solder to iron
➡ heat the button contact (5-10s)
➡ then bring in solder.
Leave a little blob of solder on the button contacts, this will be used to connect the wire. Also put some solder on the LED legs.&lt;/p>
&lt;p>Now check the schematic one last time, and position the RF-nano octopus top-down inbetween the blobs and legs. Now solder the wires to the button contacts and the LEDs. Procedure:
➡ clamp
➡ clean
➡ reapply
➡ use pliers for holding the wire close to the blob/leg
➡ shortly reheat the blob/leg with the iron
➡ when the solder on the blob/leg melts pull away the iron and leave the wire in
➡ wait for solder to solidify again.
&lt;/p>
&lt;p>&lt;figure style="flex-grow: 118; flex-basis: 283px">
&lt;a href="https://www.nielsburghoorn.com/post/arduino-phone/RF_nano_buttons_tinned.jpeg" data-size="1523x1289">&lt;img src="https://www.nielsburghoorn.com/post/arduino-phone/RF_nano_buttons_tinned.jpeg"
srcset="https://www.nielsburghoorn.com/post/arduino-phone/RF_nano_buttons_tinned_hu77b7395c4aec7ac67dcbb8637f9e01d2_455836_480x0_resize_q75_box.jpeg 480w, https://www.nielsburghoorn.com/post/arduino-phone/RF_nano_buttons_tinned_hu77b7395c4aec7ac67dcbb8637f9e01d2_455836_1024x0_resize_q75_box.jpeg 1024w"
width="1523"
height="1289"
loading="lazy"
alt="Some solder blobs on the button contacts">
&lt;/a>
&lt;figcaption>Some solder blobs on the button contacts&lt;/figcaption>
&lt;/figure> &lt;figure style="flex-grow: 161; flex-basis: 387px">
&lt;a href="https://www.nielsburghoorn.com/post/arduino-phone/wires_led_connected_closeup.jpeg" data-size="797x493">&lt;img src="https://www.nielsburghoorn.com/post/arduino-phone/wires_led_connected_closeup.jpeg"
srcset="https://www.nielsburghoorn.com/post/arduino-phone/wires_led_connected_closeup_huec1f368d52b4c547050c4978d945e384_152128_480x0_resize_q75_box.jpeg 480w, https://www.nielsburghoorn.com/post/arduino-phone/wires_led_connected_closeup_huec1f368d52b4c547050c4978d945e384_152128_1024x0_resize_q75_box.jpeg 1024w"
width="797"
height="493"
loading="lazy"
alt="Here is a wire soldered to the LED leg">
&lt;/a>
&lt;figcaption>Here is a wire soldered to the LED leg&lt;/figcaption>
&lt;/figure>&lt;/p>
&lt;p>&lt;figure style="flex-grow: 153; flex-basis: 368px">
&lt;a href="https://www.nielsburghoorn.com/post/arduino-phone/button_wire_connected_closeup2.jpeg" data-size="1273x829">&lt;img src="https://www.nielsburghoorn.com/post/arduino-phone/button_wire_connected_closeup2.jpeg"
srcset="https://www.nielsburghoorn.com/post/arduino-phone/button_wire_connected_closeup2_hu4da81d1c17fa3913ea253e3fba79716a_272624_480x0_resize_q75_box.jpeg 480w, https://www.nielsburghoorn.com/post/arduino-phone/button_wire_connected_closeup2_hu4da81d1c17fa3913ea253e3fba79716a_272624_1024x0_resize_q75_box.jpeg 1024w"
width="1273"
height="829"
loading="lazy"
alt="Here is a wire soldered to the button contact">
&lt;/a>
&lt;figcaption>Here is a wire soldered to the button contact&lt;/figcaption>
&lt;/figure> &lt;figure style="flex-grow: 141; flex-basis: 338px">
&lt;a href="https://www.nielsburghoorn.com/post/arduino-phone/button_wire_connected_closeup.jpeg" data-size="825x585">&lt;img src="https://www.nielsburghoorn.com/post/arduino-phone/button_wire_connected_closeup.jpeg"
srcset="https://www.nielsburghoorn.com/post/arduino-phone/button_wire_connected_closeup_hu293ad63588b6afa98263da68a15e99d2_74095_480x0_resize_q75_box.jpeg 480w, https://www.nielsburghoorn.com/post/arduino-phone/button_wire_connected_closeup_hu293ad63588b6afa98263da68a15e99d2_74095_1024x0_resize_q75_box.jpeg 1024w"
width="825"
height="585"
loading="lazy"
alt="Bob the blob has made contact!">
&lt;/a>
&lt;figcaption>Bob the blob has made contact!&lt;/figcaption>
&lt;/figure>&lt;/p>
&lt;p>Now clean your iron, reapply some solder (so it doesn&amp;rsquo;t oxidize the tip) and turn it off.&lt;/p>
&lt;h3 id="programming">Programming&lt;/h3>
&lt;p>Before you cage this octo/duodeca-pus, let&amp;rsquo;s test if it works. Connect the RF-nano to a computer/laptop with the USB cable and open your C++ interface (Arduino IDE, VS-Code or your own invention).&lt;/p>
&lt;blockquote>
&lt;p>So&amp;hellip; now the coding part&amp;hellip;&lt;/p>
&lt;/blockquote>
&lt;p>Since RF-nanos can are essentially an Arduino nano combined with a nRF24L01 module, their code for this build is primarily based on the standard nRF24L01 &lt;a class="link" href="https://forum.arduino.cc/t/simple-nrf24l01-2-4ghz-transceiver-demo/405123" target="_blank" rel="noopener"
>snippets&lt;/a> available.&lt;/p>
&lt;style>
.scroll {
background: #00000005;
outline: 1px solid #00000030;
height: 600px;
padding-left: 5px;
padding-right: 25px;
overflow-y: scroll;
overflow-x: hidden;
}
.scroll::-webkit-scrollbar {
width: 12px;
}
.scroll::-webkit-scrollbar-track {
-webkit-box-shadow: inset 0 0 6px rgba(0,0,0,0.3);
border-radius: 10px;
}
.scroll::-webkit-scrollbar-thumb {
border-radius: 10px;
-webkit-box-shadow: inset 0 0 6px rgba(0,0,0,0.5);
}
&lt;/style>
&lt;div class="scroll">
&lt;p>&lt;code>Shift+scroll for sideways scrolling on small screens&lt;/code>&lt;/p>
&lt;div class="highlight">&lt;pre class="chroma">&lt;code class="language-cpp" data-lang="cpp">&lt;span class="cp"># define DEBUG
&lt;/span>&lt;span class="cp">&lt;/span>
&lt;span class="c1">// Define the pins for the LEDs and the Buttons
&lt;/span>&lt;span class="c1">&lt;/span>&lt;span class="cp"># define gLED 2
&lt;/span>&lt;span class="cp"># define rLED 3
&lt;/span>&lt;span class="cp"># define yLED 4
&lt;/span>&lt;span class="cp">&lt;/span>
&lt;span class="cp"># define gBut 6
&lt;/span>&lt;span class="cp"># define rBut 7
&lt;/span>&lt;span class="cp"># define yBut 8
&lt;/span>&lt;span class="cp">&lt;/span>
&lt;span class="c1">// Define a variable that allocates power to LEDs
&lt;/span>&lt;span class="c1">&lt;/span>&lt;span class="kt">short&lt;/span> &lt;span class="kt">int&lt;/span> &lt;span class="n">onLED&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="mi">0&lt;/span>&lt;span class="p">;&lt;/span> &lt;span class="c1">// 0:&amp;#34;all off&amp;#34;, 1:&amp;#34;green&amp;#34;, 2:&amp;#34;red&amp;#34;, 3:&amp;#34;yellow&amp;#34;
&lt;/span>&lt;span class="c1">&lt;/span>&lt;span class="k">const&lt;/span> &lt;span class="kt">short&lt;/span> &lt;span class="kt">int&lt;/span> &lt;span class="n">allocLED&lt;/span>&lt;span class="p">[&lt;/span>&lt;span class="mi">4&lt;/span>&lt;span class="p">]&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="p">{&lt;/span> &lt;span class="mi">0&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="n">gLED&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="n">rLED&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="n">yLED&lt;/span> &lt;span class="p">};&lt;/span> &lt;span class="c1">// 0 case is excluded in for-loop
&lt;/span>&lt;span class="c1">&lt;/span>&lt;span class="k">const&lt;/span> &lt;span class="kt">short&lt;/span> &lt;span class="kt">int&lt;/span> &lt;span class="n">allocBut&lt;/span>&lt;span class="p">[&lt;/span>&lt;span class="mi">4&lt;/span>&lt;span class="p">]&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="p">{&lt;/span> &lt;span class="mi">0&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="n">gBut&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="n">rBut&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="n">yBut&lt;/span> &lt;span class="p">};&lt;/span> &lt;span class="c1">// 0 case is excluded in for-loop
&lt;/span>&lt;span class="c1">&lt;/span>
&lt;span class="cp">#ifdef DEBUG
&lt;/span>&lt;span class="cp">&lt;/span>&lt;span class="k">const&lt;/span> &lt;span class="kt">char&lt;/span> &lt;span class="o">*&lt;/span>&lt;span class="n">LEDnames&lt;/span>&lt;span class="p">[&lt;/span>&lt;span class="mi">4&lt;/span>&lt;span class="p">]&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="p">{&lt;/span> &lt;span class="s">&amp;#34;No led&amp;#34;&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="s">&amp;#34;Green&amp;#34;&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="s">&amp;#34;Red&amp;#34;&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="s">&amp;#34;Yellow&amp;#34;&lt;/span> &lt;span class="p">};&lt;/span>
&lt;span class="cp">#endif
&lt;/span>&lt;span class="cp">&lt;/span>
&lt;span class="c1">// Include the libraries and set the CE and CSN pins
&lt;/span>&lt;span class="c1">&lt;/span>&lt;span class="cp">#include&lt;/span> &lt;span class="cpf">&amp;lt;SPI.h&amp;gt;&lt;/span>&lt;span class="cp">
&lt;/span>&lt;span class="cp">#include&lt;/span> &lt;span class="cpf">&amp;lt;nRF24L01.h&amp;gt;&lt;/span>&lt;span class="cp">
&lt;/span>&lt;span class="cp">#include&lt;/span> &lt;span class="cpf">&amp;lt;RF24.h&amp;gt;&lt;/span>&lt;span class="cp">
&lt;/span>&lt;span class="cp">&lt;/span>
&lt;span class="cp">#define CE_PIN 9
&lt;/span>&lt;span class="cp">#define CSN_PIN 10
&lt;/span>&lt;span class="cp">&lt;/span>
&lt;span class="c1">// Create a receiving and transmitting address for the device
&lt;/span>&lt;span class="c1">// these are the same since only one is writing at a time (assumption made)
&lt;/span>&lt;span class="c1">&lt;/span>&lt;span class="k">const&lt;/span> &lt;span class="n">byte&lt;/span> &lt;span class="n">rAddress&lt;/span>&lt;span class="p">[&lt;/span>&lt;span class="mi">5&lt;/span>&lt;span class="p">]&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="s">&amp;#34;00001&amp;#34;&lt;/span>&lt;span class="p">;&lt;/span> &lt;span class="c1">//receiving on this address
&lt;/span>&lt;span class="c1">&lt;/span>&lt;span class="k">const&lt;/span> &lt;span class="n">byte&lt;/span> &lt;span class="n">tAddress&lt;/span>&lt;span class="p">[&lt;/span>&lt;span class="mi">5&lt;/span>&lt;span class="p">]&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="s">&amp;#34;00001&amp;#34;&lt;/span>&lt;span class="p">;&lt;/span> &lt;span class="c1">//transmitting to this address
&lt;/span>&lt;span class="c1">&lt;/span>
&lt;span class="c1">// Setup a radio
&lt;/span>&lt;span class="c1">&lt;/span>&lt;span class="n">RF24&lt;/span> &lt;span class="nf">radio&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">CE_PIN&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="n">CSN_PIN&lt;/span>&lt;span class="p">);&lt;/span>
&lt;span class="c1">// Define communication variables
&lt;/span>&lt;span class="c1">&lt;/span>&lt;span class="kt">int&lt;/span> &lt;span class="n">rData&lt;/span>&lt;span class="p">;&lt;/span> &lt;span class="c1">// received data
&lt;/span>&lt;span class="c1">&lt;/span>&lt;span class="kt">int&lt;/span> &lt;span class="n">tData&lt;/span>&lt;span class="p">;&lt;/span> &lt;span class="c1">// transmitted data
&lt;/span>&lt;span class="c1">&lt;/span>&lt;span class="kt">bool&lt;/span> &lt;span class="n">newData&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="nb">false&lt;/span>&lt;span class="p">;&lt;/span> &lt;span class="c1">// boolean value to indicate
&lt;/span>&lt;span class="c1">&lt;/span> &lt;span class="c1">// whether the current step has received new data
&lt;/span>&lt;span class="c1">&lt;/span>
&lt;span class="c1">// Timing variables
&lt;/span>&lt;span class="c1">&lt;/span>&lt;span class="kt">unsigned&lt;/span> &lt;span class="kt">long&lt;/span> &lt;span class="n">currentMillis&lt;/span>&lt;span class="p">;&lt;/span>
&lt;span class="kt">unsigned&lt;/span> &lt;span class="kt">long&lt;/span> &lt;span class="n">previousMillis&lt;/span>&lt;span class="p">;&lt;/span>
&lt;span class="kt">unsigned&lt;/span> &lt;span class="kt">long&lt;/span> &lt;span class="n">intervalMillis&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="mi">100&lt;/span>&lt;span class="p">;&lt;/span> &lt;span class="c1">// [ms] send once per 100 miliseconds second when transmitting
&lt;/span>&lt;span class="c1">&lt;/span>
&lt;span class="c1">// Setup of combi communication RF nano
&lt;/span>&lt;span class="c1">&lt;/span>&lt;span class="kt">void&lt;/span> &lt;span class="nf">setup&lt;/span>&lt;span class="p">()&lt;/span> &lt;span class="p">{&lt;/span>
&lt;span class="c1">// For monitoring
&lt;/span>&lt;span class="c1">&lt;/span> &lt;span class="cp">#ifdef DEBUG
&lt;/span>&lt;span class="cp">&lt;/span> &lt;span class="n">Serial&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="n">begin&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="mi">9600&lt;/span>&lt;span class="p">);&lt;/span>
&lt;span class="n">Serial&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="n">println&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s">&amp;#34;Combi-communication arduino starting&amp;#34;&lt;/span>&lt;span class="p">);&lt;/span>
&lt;span class="cp">#endif
&lt;/span>&lt;span class="cp">&lt;/span>
&lt;span class="c1">// LED output connections
&lt;/span>&lt;span class="c1">&lt;/span> &lt;span class="n">pinMode&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">gLED&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="n">OUTPUT&lt;/span>&lt;span class="p">);&lt;/span>
&lt;span class="n">pinMode&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">rLED&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="n">OUTPUT&lt;/span>&lt;span class="p">);&lt;/span>
&lt;span class="n">pinMode&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">yLED&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="n">OUTPUT&lt;/span>&lt;span class="p">);&lt;/span>
&lt;span class="c1">// Button input connections
&lt;/span>&lt;span class="c1">&lt;/span> &lt;span class="n">pinMode&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">gBut&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="n">INPUT_PULLUP&lt;/span>&lt;span class="p">);&lt;/span>
&lt;span class="n">pinMode&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">rBut&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="n">INPUT_PULLUP&lt;/span>&lt;span class="p">);&lt;/span>
&lt;span class="n">pinMode&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">yBut&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="n">INPUT_PULLUP&lt;/span>&lt;span class="p">);&lt;/span>
&lt;span class="c1">// Setup radio and open reading and writing pipe
&lt;/span>&lt;span class="c1">&lt;/span> &lt;span class="n">radio&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="n">begin&lt;/span>&lt;span class="p">();&lt;/span>
&lt;span class="n">radio&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="n">setDataRate&lt;/span>&lt;span class="p">(&lt;/span> &lt;span class="n">RF24_250KBPS&lt;/span> &lt;span class="p">);&lt;/span>
&lt;span class="c1">// Setup writing pipe
&lt;/span>&lt;span class="c1">&lt;/span> &lt;span class="n">radio&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="n">setRetries&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="mi">3&lt;/span>&lt;span class="p">,&lt;/span>&lt;span class="mi">5&lt;/span>&lt;span class="p">);&lt;/span> &lt;span class="c1">// delay, count : 5 gives a 1500 µsec delay,
&lt;/span>&lt;span class="c1">&lt;/span> &lt;span class="c1">// which is needed for a 32 byte ackPayload
&lt;/span>&lt;span class="c1">&lt;/span> &lt;span class="n">radio&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="n">openWritingPipe&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">tAddress&lt;/span>&lt;span class="p">);&lt;/span>
&lt;span class="c1">// Setup reading pipe and start listening to signals
&lt;/span>&lt;span class="c1">&lt;/span> &lt;span class="n">radio&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="n">openReadingPipe&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="mi">1&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="n">rAddress&lt;/span>&lt;span class="p">);&lt;/span>
&lt;span class="n">radio&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="n">startListening&lt;/span>&lt;span class="p">();&lt;/span>
&lt;span class="p">}&lt;/span>
&lt;span class="c1">// Start loop
&lt;/span>&lt;span class="c1">&lt;/span>&lt;span class="kt">void&lt;/span> &lt;span class="nf">loop&lt;/span>&lt;span class="p">()&lt;/span> &lt;span class="p">{&lt;/span>
&lt;span class="kt">bool&lt;/span> &lt;span class="n">sending&lt;/span>&lt;span class="p">;&lt;/span>
&lt;span class="c1">// Check if one of the buttons is pressed --&amp;gt; sending mode
&lt;/span>&lt;span class="c1">&lt;/span> &lt;span class="n">sending&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="n">checkPressed&lt;/span>&lt;span class="p">();&lt;/span>
&lt;span class="c1">// If sending mode, send the transmission data (tData)
&lt;/span>&lt;span class="c1">&lt;/span> &lt;span class="k">if&lt;/span> &lt;span class="p">(&lt;/span>&lt;span class="n">sending&lt;/span>&lt;span class="p">){&lt;/span>
&lt;span class="cp">#ifdef DEBUG
&lt;/span>&lt;span class="cp">&lt;/span> &lt;span class="n">Serial&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="n">println&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s">&amp;#34;sending...&amp;#34;&lt;/span>&lt;span class="p">);&lt;/span>
&lt;span class="cp">#endif
&lt;/span>&lt;span class="cp">&lt;/span>
&lt;span class="n">send&lt;/span>&lt;span class="p">();&lt;/span>
&lt;span class="p">}&lt;/span>
&lt;span class="c1">// Else listen to incoming signals if available
&lt;/span>&lt;span class="c1">&lt;/span> &lt;span class="k">else&lt;/span>&lt;span class="p">{&lt;/span>
&lt;span class="n">listen&lt;/span>&lt;span class="p">();&lt;/span>
&lt;span class="p">}&lt;/span>
&lt;span class="c1">// Turn on LED when sending tData or when receiving signal
&lt;/span>&lt;span class="c1">&lt;/span> &lt;span class="n">controlLEDs&lt;/span>&lt;span class="p">();&lt;/span>
&lt;span class="p">}&lt;/span>
&lt;span class="kt">bool&lt;/span> &lt;span class="nf">checkPressed&lt;/span>&lt;span class="p">(){&lt;/span>
&lt;span class="c1">// Returns whether button is pressed (true or false)
&lt;/span>&lt;span class="c1">&lt;/span> &lt;span class="c1">// Updates the transmission data (tData)
&lt;/span>&lt;span class="c1">&lt;/span> &lt;span class="c1">// Update the LEDs (on/off)
&lt;/span>&lt;span class="c1">&lt;/span>
&lt;span class="n">tData&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="mi">0&lt;/span>&lt;span class="p">;&lt;/span>
&lt;span class="n">onLED&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="mi">0&lt;/span>&lt;span class="p">;&lt;/span>
&lt;span class="k">for&lt;/span> &lt;span class="p">(&lt;/span>&lt;span class="k">auto&lt;/span> &lt;span class="n">iLED&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="mi">1&lt;/span> &lt;span class="p">;&lt;/span> &lt;span class="n">iLED&lt;/span>&lt;span class="o">&amp;lt;=&lt;/span>&lt;span class="mi">3&lt;/span> &lt;span class="p">;&lt;/span> &lt;span class="n">iLED&lt;/span>&lt;span class="o">++&lt;/span>&lt;span class="p">){&lt;/span>
&lt;span class="k">if&lt;/span> &lt;span class="p">(&lt;/span>&lt;span class="n">digitalRead&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">allocBut&lt;/span>&lt;span class="p">[&lt;/span>&lt;span class="n">iLED&lt;/span>&lt;span class="p">])&lt;/span> &lt;span class="o">==&lt;/span> &lt;span class="n">LOW&lt;/span>&lt;span class="p">){&lt;/span>
&lt;span class="n">tData&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="n">iLED&lt;/span>&lt;span class="p">;&lt;/span>
&lt;span class="n">onLED&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="n">allocLED&lt;/span>&lt;span class="p">[&lt;/span>&lt;span class="n">iLED&lt;/span>&lt;span class="p">];&lt;/span>
&lt;span class="k">return&lt;/span> &lt;span class="nb">true&lt;/span>&lt;span class="p">;&lt;/span>
&lt;span class="p">}&lt;/span>
&lt;span class="p">}&lt;/span>
&lt;span class="k">return&lt;/span> &lt;span class="nb">false&lt;/span>&lt;span class="p">;&lt;/span>
&lt;span class="p">}&lt;/span>
&lt;span class="kt">void&lt;/span> &lt;span class="nf">send&lt;/span>&lt;span class="p">(){&lt;/span>
&lt;span class="c1">//Sends the transmission data (tData)
&lt;/span>&lt;span class="c1">&lt;/span> &lt;span class="c1">//Returns to listening
&lt;/span>&lt;span class="c1">&lt;/span>
&lt;span class="c1">// Make sure to send on correct interval
&lt;/span>&lt;span class="c1">&lt;/span> &lt;span class="n">currentMillis&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="n">millis&lt;/span>&lt;span class="p">();&lt;/span>
&lt;span class="k">if&lt;/span> &lt;span class="p">(&lt;/span>&lt;span class="n">currentMillis&lt;/span> &lt;span class="o">-&lt;/span> &lt;span class="n">previousMillis&lt;/span> &lt;span class="o">&amp;gt;=&lt;/span> &lt;span class="n">intervalMillis&lt;/span>&lt;span class="p">)&lt;/span> &lt;span class="p">{&lt;/span>
&lt;span class="kt">bool&lt;/span> &lt;span class="n">rslt&lt;/span>&lt;span class="p">;&lt;/span>
&lt;span class="c1">// Stop listening
&lt;/span>&lt;span class="c1">&lt;/span> &lt;span class="n">radio&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="n">stopListening&lt;/span>&lt;span class="p">();&lt;/span>
&lt;span class="c1">// Send tData
&lt;/span>&lt;span class="c1">&lt;/span> &lt;span class="n">rslt&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="n">radio&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="n">write&lt;/span>&lt;span class="p">(&lt;/span> &lt;span class="o">&amp;amp;&lt;/span>&lt;span class="n">tData&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="k">sizeof&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">tData&lt;/span>&lt;span class="p">)&lt;/span> &lt;span class="p">);&lt;/span>
&lt;span class="c1">// Listen again
&lt;/span>&lt;span class="c1">&lt;/span> &lt;span class="n">radio&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="n">startListening&lt;/span>&lt;span class="p">();&lt;/span>
&lt;span class="cp">#ifdef DEBUG
&lt;/span>&lt;span class="cp">&lt;/span> &lt;span class="n">Serial&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="n">print&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s">&amp;#34;Data Sent &amp;#34;&lt;/span>&lt;span class="p">);&lt;/span>
&lt;span class="n">Serial&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="n">print&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">tData&lt;/span>&lt;span class="p">);&lt;/span>
&lt;span class="k">if&lt;/span> &lt;span class="p">(&lt;/span>&lt;span class="n">rslt&lt;/span>&lt;span class="p">)&lt;/span> &lt;span class="p">{&lt;/span>
&lt;span class="n">Serial&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="n">println&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s">&amp;#34; Acknowledged by other device&amp;#34;&lt;/span>&lt;span class="p">);&lt;/span>
&lt;span class="p">}&lt;/span>
&lt;span class="k">else&lt;/span> &lt;span class="p">{&lt;/span>
&lt;span class="n">Serial&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="n">println&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s">&amp;#34; Transmit failed&amp;#34;&lt;/span>&lt;span class="p">);&lt;/span>
&lt;span class="p">}&lt;/span>
&lt;span class="cp">#endif
&lt;/span>&lt;span class="cp">&lt;/span>
&lt;span class="n">previousMillis&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="n">millis&lt;/span>&lt;span class="p">();&lt;/span>
&lt;span class="p">}&lt;/span>
&lt;span class="p">}&lt;/span>
&lt;span class="kt">void&lt;/span> &lt;span class="nf">listen&lt;/span>&lt;span class="p">(){&lt;/span>
&lt;span class="c1">// Listen to signals
&lt;/span>&lt;span class="c1">&lt;/span> &lt;span class="c1">// If signal heard, then update LEDs (on/off)
&lt;/span>&lt;span class="c1">&lt;/span>
&lt;span class="k">if&lt;/span> &lt;span class="p">(&lt;/span> &lt;span class="n">radio&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="n">available&lt;/span>&lt;span class="p">()&lt;/span> &lt;span class="p">)&lt;/span> &lt;span class="p">{&lt;/span>
&lt;span class="c1">// Update the received data (rData and newData)
&lt;/span>&lt;span class="c1">&lt;/span> &lt;span class="n">radio&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="n">read&lt;/span>&lt;span class="p">(&lt;/span> &lt;span class="o">&amp;amp;&lt;/span>&lt;span class="n">rData&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="k">sizeof&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">rData&lt;/span>&lt;span class="p">)&lt;/span> &lt;span class="p">);&lt;/span>
&lt;span class="n">newData&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="nb">true&lt;/span>&lt;span class="p">;&lt;/span>
&lt;span class="p">}&lt;/span>
&lt;span class="c1">// Update the LEDs
&lt;/span>&lt;span class="c1">&lt;/span> &lt;span class="k">if&lt;/span> &lt;span class="p">(&lt;/span>&lt;span class="n">newData&lt;/span>&lt;span class="p">){&lt;/span>
&lt;span class="n">onLED&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="n">allocLED&lt;/span>&lt;span class="p">[&lt;/span>&lt;span class="n">rData&lt;/span>&lt;span class="p">];&lt;/span>
&lt;span class="n">newData&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="nb">false&lt;/span>&lt;span class="p">;&lt;/span>
&lt;span class="cp">#ifdef DEBUG
&lt;/span>&lt;span class="cp">&lt;/span> &lt;span class="n">Serial&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="n">print&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s">&amp;#34;Data received &amp;#34;&lt;/span>&lt;span class="p">);&lt;/span>
&lt;span class="n">Serial&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="n">println&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">rData&lt;/span>&lt;span class="p">);&lt;/span>
&lt;span class="cp">#endif
&lt;/span>&lt;span class="cp">&lt;/span> &lt;span class="p">}&lt;/span>
&lt;span class="p">}&lt;/span>
&lt;span class="kt">void&lt;/span> &lt;span class="nf">controlLEDs&lt;/span>&lt;span class="p">(){&lt;/span>
&lt;span class="c1">// Flash the LEDs based on &amp;#34;onLED&amp;#34; variable
&lt;/span>&lt;span class="c1">&lt;/span>
&lt;span class="c1">// Turn off all LEDs
&lt;/span>&lt;span class="c1">&lt;/span> &lt;span class="k">for&lt;/span> &lt;span class="p">(&lt;/span>&lt;span class="k">auto&lt;/span> &lt;span class="n">i&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="mi">1&lt;/span> &lt;span class="p">;&lt;/span> &lt;span class="n">i&lt;/span>&lt;span class="o">&amp;lt;=&lt;/span>&lt;span class="mi">3&lt;/span> &lt;span class="p">;&lt;/span> &lt;span class="n">i&lt;/span>&lt;span class="o">++&lt;/span>&lt;span class="p">){&lt;/span>
&lt;span class="k">auto&lt;/span> &lt;span class="n">iLED&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="n">allocLED&lt;/span>&lt;span class="p">[&lt;/span>&lt;span class="n">i&lt;/span>&lt;span class="p">];&lt;/span>
&lt;span class="n">digitalWrite&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">iLED&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="n">LOW&lt;/span>&lt;span class="p">);&lt;/span>
&lt;span class="n">delay&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="mi">10&lt;/span>&lt;span class="p">);&lt;/span>
&lt;span class="p">}&lt;/span>
&lt;span class="n">delay&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="mi">60&lt;/span>&lt;span class="p">);&lt;/span>
&lt;span class="c1">// Turn on LED dependent on the &amp;#34;onLED&amp;#34; variable
&lt;/span>&lt;span class="c1">&lt;/span> &lt;span class="k">if&lt;/span> &lt;span class="p">(&lt;/span>&lt;span class="n">onLED&lt;/span> &lt;span class="o">!=&lt;/span> &lt;span class="mi">0&lt;/span>&lt;span class="p">){&lt;/span>
&lt;span class="n">digitalWrite&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">onLED&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="n">HIGH&lt;/span>&lt;span class="p">);&lt;/span>
&lt;span class="cp">#ifdef DEBUG
&lt;/span>&lt;span class="cp">&lt;/span> &lt;span class="n">Serial&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="n">print&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s">&amp;#34;Turned on LED : &amp;#34;&lt;/span>&lt;span class="p">);&lt;/span>
&lt;span class="n">Serial&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="n">println&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">LEDnames&lt;/span>&lt;span class="p">[&lt;/span>&lt;span class="n">onLED&lt;/span>&lt;span class="o">-&lt;/span>&lt;span class="mi">1&lt;/span>&lt;span class="p">]);&lt;/span>
&lt;span class="cp">#endif
&lt;/span>&lt;span class="cp">&lt;/span> &lt;span class="n">delay&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="mi">400&lt;/span>&lt;span class="p">);&lt;/span>
&lt;span class="p">}&lt;/span>
&lt;span class="p">}&lt;/span>
&lt;/code>&lt;/pre>&lt;/div>
&lt;/div>
&lt;p>So what does all this code mean? Well to you it might mean nothing, but to the computer (the compiler) instructions are hidden it the abstract C++ language. Let us briefly go over the meaning of some of these instructions (skip this if your a C++ ninja).&lt;/p>
&lt;ul>
&lt;li>We first define some variables and constants before &lt;code>setup&lt;/code> function that will be used later. Also not that everything with a &lt;code>//&lt;/code> before it is a &amp;ldquo;comment&amp;rdquo; and is not read by the computer. I have used these comments to explain the code briefly.
&lt;ul>
&lt;li>&lt;code># define DEBUG&lt;/code> is a &amp;ldquo;preprocessor macro&amp;rdquo; that can be removed when you are done with testing the code. These will allow us to make some code sections which help us see what is going on during testing.&lt;/li>
&lt;li>&lt;code># define gLED 2&lt;/code> is also a &amp;ldquo;preprocessor macro&amp;rdquo;, this will replace all the text &amp;ldquo;gLED&amp;rdquo; in our code by the number &amp;ldquo;2&amp;rdquo;. This is done because the green led (&amp;ldquo;gLED&amp;rdquo;) is on digital pin 2. The same is done for the other LEDs and also for the buttons.&lt;/li>
&lt;li>&lt;code>short int onLED&lt;/code> is a &amp;ldquo;integer variable&amp;rdquo;, this variable will change its value dependend on the LED that should be turned on.&lt;/li>
&lt;li>&lt;code>const short int allocLED[4]&lt;/code> is an array of &amp;ldquo;constant integer variables&amp;rdquo;, that contains a handy list of all the LED&amp;rsquo;s pin numbers. It is constant (&amp;ldquo;const&amp;rdquo;) since it will not be changed later on. The first member of the list (&amp;ldquo;0&amp;rdquo;) will indicate that none of the LEDs is selected. The same list is made for the buttons.&lt;/li>
&lt;li>&lt;code>#ifdef DEBUG&lt;/code>, &lt;code>const char *LEDnames[4] = { &amp;quot;No led&amp;quot;, &amp;quot;Green&amp;quot;, &amp;quot;Red&amp;quot;, &amp;quot;Yellow&amp;quot; };&lt;/code>, and &lt;code>#endif&lt;/code> are the first lines of &amp;ldquo;debug code&amp;rdquo;. It reads: &amp;ldquo;&lt;em>if the preprocessor macro &amp;ldquo;DEBUG&amp;rdquo; is defined, then do the following: make a constant character pointer array &amp;ldquo;LEDnames&amp;rdquo;. Now end this if statement.&lt;/em>&amp;rdquo; These character pointers are just words that will be used to describe the colors that are active (these are the ones you can see in the defined array between the curly brackets).&lt;/li>
&lt;li>Now we include the libraries that are needed for the communication of the RF-nanos. These are essentially big pieces of code made by someone else that I can hijack with &lt;code>#include&lt;/code> command. They can be found in the Arduino library section (you can find them when searching &lt;a class="link" href="https://www.arduino.cc/en/reference/libraries" target="_blank" rel="noopener"
>here&lt;/a>).&lt;/li>
&lt;li>The &lt;code>#define CE_PIN&lt;/code> and &lt;code>#define CSN_PIN&lt;/code> are used by the library for the communication. (This is still an artifact of using the use of nRF24L01 libraries for the integrated RF-nano, I do not yet know how to circumvent using these pins. Let me know if you do!)&lt;/li>
&lt;li>&lt;code>const byte rAddress[5]&lt;/code> is the virtual address that is given to the RF-nano with this particular C++ code in order to let the other RF-nano know where to send its message to. The &lt;code>tAddress&lt;/code> is the address that is used to transmit to, it is the address of the recipient (the other RF-nano).&lt;/li>
&lt;li>As you can see the addresses are the same?! For our Arduino-Phone this does not matter, since the devices will never be sending to their own address. They will always look for another RF-nano with the address.&lt;/li>
&lt;/ul>
&lt;blockquote>
&lt;p>This means you can upload this same code to both devices!&lt;/p>
&lt;/blockquote>
&lt;ul>
&lt;li>&lt;code>RF24 radio(CE_PIN, CSN_PIN)&lt;/code> means we are creating an radio object and naming it &amp;ldquo;RF24&amp;rdquo;. This will be the radio from which we send and receive the messages.&lt;/li>
&lt;li>The &lt;code>rData&lt;/code> will contain the data that might be received by this RF-nano. And &lt;code>tData&lt;/code> will represent the data that needs to be transmitted by this RF-nano, if a button is pressed. These are both integer variables.&lt;/li>
&lt;li>When receiving a message, we have to check whether the received message is a new message. Therefore, whenever a new message is received: boolean &lt;code>newData&lt;/code> will jump to the &amp;ldquo;true&amp;rdquo; value. When the recieved message is handled, meaning the LED is turned on: its value will fall back to &amp;ldquo;false&amp;rdquo;.&lt;/li>
&lt;li>The &lt;code>currentMillis&lt;/code>, &lt;code>previousMillis&lt;/code> and &lt;code>intervalMillis&lt;/code> are variables that are used for timing the transmissions. Using these we can make sure that the RF-nano will only send a message every &lt;code>intervalMillis&lt;/code>-number of milliseconds. I have chosen 100ms, since this works out nicely with the delay on the LEDs that is needed for them to transmit smoothly.&lt;/li>
&lt;/ul>
&lt;/li>
&lt;/ul>
&lt;blockquote>
&lt;p>When you press the devices button for less than 0.1s (=100ms) the device might not register it.&lt;/p>
&lt;/blockquote>
&lt;ul>
&lt;li>Then we finally reach the trusted &lt;code>void setup()&lt;/code> function. This is standard in all arduino codes, and initiates and &amp;ldquo;sets up&amp;rdquo; the arduino for operation.
&lt;ul>
&lt;li>In there we have the arduino standard object &lt;code>Serial&lt;/code> that is used for monitoring and will only be initiated when in the &lt;code>DEBUG&lt;/code> is defined (which was the very first line). It will post all the &lt;code>Serial.print&lt;/code> and &lt;code>Serial.println&lt;/code> contents to the serial monitor on your computer (if connected).&lt;/li>
&lt;li>&lt;code>pinMode(gLED, OUTPUT)&lt;/code> and the other two: set the arduino LED-pins to operate as output, since they must power the LEDs.&lt;/li>
&lt;li>&lt;code>pinMode(gBut, INPUT_PULLUP)&lt;/code> and its two friends: these pins are set to sense the button presses. They are &amp;ldquo;always on&amp;rdquo; and register when the circuit closes (if the button is pressed). For more info see the arduino &lt;a class="link" href="https://www.arduino.cc/en/Tutorial/Foundations/DigitalPins" target="_blank" rel="noopener"
>documentation page&lt;/a> (under &amp;ldquo;Properties of Pins Configured as INPUT_PULLUP&amp;rdquo;)&lt;/li>
&lt;li>Then &lt;code>radio.begin()&lt;/code> turns the radio on with a rate of data of 250kB/s &lt;code>radio.setDataRate( RF24_250KBPS )&lt;/code>, which is the lowest possible value since we don&amp;rsquo;t need to send a lot of data.&lt;/li>
&lt;li>The message might fail to transmit, therefore &lt;code>radio.setRetries(3,5)&lt;/code> allows the radio to &amp;ldquo;re-try&amp;rdquo; sending the message 5 times (max possible is 15), with an interval of 1000us (=(3 +1)*250us. The maximum is again 15, which is (15 +1)*250us = 4000us). See the &lt;a class="link" href="https://maniacbug.github.io/RF24/classRF24.html#a4c6d3959c8320e64568395f4ef507aef" target="_blank" rel="noopener"
>RF24 documentation&lt;/a> for more information.&lt;/li>
&lt;li>&lt;code>radio.openWritingPipe(tAddress)&lt;/code> opens the possibility for the radio to transmit or &amp;ldquo;write&amp;rdquo; to the &lt;code>tAddress&lt;/code>.&lt;/li>
&lt;li>&lt;code>radio.openReadingPipe(1, rAddress)&lt;/code> opens the possibility for the radio to receive or &amp;ldquo;read&amp;rdquo; messages on its first pipe from its &lt;code>rAddress&lt;/code>.&lt;/li>
&lt;li>The device setup has come to an end, and it is now set up to listen to incomming messages with &lt;code>radio.startListening()&lt;/code>.&lt;/li>
&lt;/ul>
&lt;/li>
&lt;li>The &lt;code>void loop()&lt;/code> function is repeatedly executed by the arduino from now on. It is also standard in almost all arduino scripts.
&lt;ul>
&lt;li>First a boolean &lt;code>sending&lt;/code> is created, which will indicate whether we need to send a message.&lt;/li>
&lt;li>The &lt;code>sending&lt;/code> value is set to &amp;ldquo;true&amp;rdquo; if the created &lt;code>checkPressed()&lt;/code> function (defined later) notices that a button is pressed, otherwise the value is set to &amp;ldquo;false&amp;rdquo;.&lt;/li>
&lt;li>If &lt;code>sending&lt;/code> is &amp;ldquo;true&amp;rdquo;:
&lt;ul>
&lt;li>If in debug mode, let the serial monitor know that the RF-nano is sending a message.&lt;/li>
&lt;li>Then send the message by calling the &lt;code>send()&lt;/code> function (defined later).&lt;/li>
&lt;/ul>
&lt;/li>
&lt;li>However, if &lt;code>sending&lt;/code> is &amp;ldquo;false&amp;rdquo;:
&lt;ul>
&lt;li>Just keep listening, since there may be an incomming message. This is done using the &lt;code>listen()&lt;/code> function (defined later).&lt;/li>
&lt;/ul>
&lt;/li>
&lt;li>After either transmitting (sending) or receiving/not-receiving (listening) a message the LEDs need to be turned on according to the button pressed or the message received. This is done in the &lt;code>controlLEDs()&lt;/code> function (defined later).&lt;/li>
&lt;/ul>
&lt;/li>
&lt;/ul>
&lt;p>As you read, there are 4 to-be-defined functions in this device. Let&amp;rsquo;s find out how they work.&lt;/p>
&lt;ul>
&lt;li>
&lt;p>&lt;code>bool checkPressed()&lt;/code> -
This function returns a boolean value: &amp;ldquo;true&amp;rdquo; if a button is pressed, &amp;ldquo;false&amp;rdquo; if not.&lt;/p>
&lt;ul>
&lt;li>The transmission data &lt;code>tData&lt;/code> is reset to 0, and so is the LED-that-must-be-turned-on &lt;code>onLED&lt;/code>.&lt;/li>
&lt;li>Then we go through a loop that uses &lt;code>digitalRead&lt;/code> to sequentially check every button in our &lt;code>allocBut&lt;/code> list. When one of those is low (here green will have priority over red, which has priority over yellow), this means you are pressing a button. If so:
&lt;ul>
&lt;li>The new transmission data &lt;code>tData&lt;/code> send will be the index &lt;code>iLED&lt;/code> of that pressed button. Also the &lt;code>onLED&lt;/code> variable will be changed to the digital pin responsible for that button&amp;rsquo;s LED, and then the function stops to return &amp;ldquo;true&amp;rdquo;: a button is being pressed. That is,&lt;/li>
&lt;/ul>
&lt;/li>
&lt;li>If not, and the if-statement in the loop returns false every time:
&lt;ul>
&lt;li>This function will continue to return &amp;ldquo;false&amp;rdquo;: no button is pressed.&lt;/li>
&lt;/ul>
&lt;/li>
&lt;/ul>
&lt;/li>
&lt;li>
&lt;p>&lt;code>void send()&lt;/code> -
This function returns nothing that therefore is of the type &lt;code>void&lt;/code>.&lt;/p>
&lt;ul>
&lt;li>First the current time is recorded in &lt;code>currentMillis&lt;/code>, here &lt;code>millis()&lt;/code> (a standard arduino function) changes its value to the amount of milliseconds past since the device was powered.&lt;/li>
&lt;li>The if-statement following will only be passed when the the curent time (&lt;code>currentMillis&lt;/code>) is at least óne transmission interval later (&lt;code>intervalMillis&lt;/code>) than the previous time that a transmission was made (&lt;code>previousMillis&lt;/code>). When &amp;ldquo;true&amp;rdquo;:
&lt;ul>
&lt;li>A new boolean &lt;code>rslt&lt;/code> is made (since typing result is too much effort apparently).&lt;/li>
&lt;li>We briefly interrupt our radio&amp;rsquo;s listening, to write a message which contains the data that is stored on the address-of-our-transmission-data &lt;code>&amp;amp;tData&lt;/code>, which has a number of bytes equal to the byte-length-of-tData &lt;code>sizeof(tData)&lt;/code> (what a coincidence right!?). This tranmission will return &amp;ldquo;true&amp;rdquo; if succesful and &amp;ldquo;false&amp;rdquo; if not. The value will be stored in &lt;code>rslt&lt;/code>. Now we quickly resume listening, in case anything is sent to this RF-nano. If debugging: print some details to the serial monitor about what we have been sending and whether the transmission was succesful. At last, we make sure to store the current time we have transmitted as the &lt;code>previousMillis&lt;/code>, this will make sure that the device will wait a tenth of a second (since &lt;code>intervalMillis&lt;/code> = 100ms) before it sends again.&lt;/li>
&lt;/ul>
&lt;/li>
&lt;/ul>
&lt;/li>
&lt;li>
&lt;p>&lt;code>void listen()&lt;/code> -
Also a function that has nothing to give, and is &lt;code>void&lt;/code> of a returning value.&lt;/p>
&lt;ul>
&lt;li>If the radio picks up on something. That is, if it is receiving a message it will:
&lt;ul>
&lt;li>Read that message and put it on the address-of-our-receiving-data &lt;code>&amp;amp;rData&lt;/code>, which again may contain the corresponding number of bytes.&lt;/li>
&lt;li>Since it is a new message, it will update &lt;code>newData&lt;/code> to &amp;ldquo;true&amp;rdquo;.&lt;/li>
&lt;/ul>
&lt;/li>
&lt;li>When this &lt;code>newData&lt;/code> was actually gathered, we also do:
&lt;ul>
&lt;li>Turn on the LED-pin that has the corresponding index (the index that was received is stored in &lt;code>rData&lt;/code>). It will downgrade the &lt;code>newData&lt;/code> to &amp;ldquo;false&amp;rdquo; and display the message received on the serial monitor when in debug mode.&lt;/li>
&lt;/ul>
&lt;/li>
&lt;/ul>
&lt;/li>
&lt;li>
&lt;p>&lt;code>void controlLEDs()&lt;/code> -
Function without a return, but does shed some light when appropriate.&lt;/p>
&lt;ul>
&lt;li>Lets first create some darkness: the first for-loop turns off all the LED-pins by doing a &lt;code>digitalWrite(iLED,LOW)&lt;/code> for every element &lt;code>iLED&lt;/code> in our &lt;code>allocLED&lt;/code> list. Here we use a short &lt;code>delay(10)&lt;/code> (10ms) such that the pins are not shut down all at once (this may interfere with the button pins).&lt;/li>
&lt;li>Then a short period of darkness. A delay of 60ms.&lt;/li>
&lt;li>Lets now check if we can interupt the darkness. When the &lt;code>onLED&lt;/code> has a value not equal to 0:
&lt;ul>
&lt;li>Do a &lt;code>digitalWrite(onLED,HIGH)&lt;/code> to turn on the LED-pin that is needed, show this to the serial monitor, and shine bright for 400ms.&lt;/li>
&lt;/ul>
&lt;/li>
&lt;/ul>
&lt;/li>
&lt;/ul>
&lt;h3 id="wrapping-it-up">Wrapping it up&lt;/h3>
&lt;p>When the lights are responding and you have soldered everything up, then it is time to cover up the mess you have made. Sure, your it looks cool and pointy, but pressing a buttons is without grabbing the whole thing is impossible. Let&amp;rsquo;s glue together the carton strips you made all the way in the beginning of this adventure. This carton ensemble is then stuck to the bottom of the buttons, and will support the little force applied when button-pressing. The bottom carton can now be glued on as well, where attention is payed to the alignment of the imprint that was made earlier.&lt;/p>
&lt;p>&lt;figure style="flex-grow: 87; flex-basis: 209px">
&lt;a href="https://www.nielsburghoorn.com/post/arduino-phone/glue_carton_strips.jpeg" data-size="1004x1151">&lt;img src="https://www.nielsburghoorn.com/post/arduino-phone/glue_carton_strips.jpeg"
srcset="https://www.nielsburghoorn.com/post/arduino-phone/glue_carton_strips_hu5753c88d9ee7096e7bc6ee61c2037f3d_285545_480x0_resize_q75_box.jpeg 480w, https://www.nielsburghoorn.com/post/arduino-phone/glue_carton_strips_hu5753c88d9ee7096e7bc6ee61c2037f3d_285545_1024x0_resize_q75_box.jpeg 1024w"
width="1004"
height="1151"
loading="lazy"
alt="Sticking with carton">
&lt;/a>
&lt;figcaption>Sticking with carton&lt;/figcaption>
&lt;/figure> &lt;figure style="flex-grow: 133; flex-basis: 320px">
&lt;a href="https://www.nielsburghoorn.com/post/arduino-phone/final_device2.jpeg" data-size="2048x1536">&lt;img src="https://www.nielsburghoorn.com/post/arduino-phone/final_device2.jpeg"
srcset="https://www.nielsburghoorn.com/post/arduino-phone/final_device2_hu9322d2f4c176785103df90e9eeef41fc_424856_480x0_resize_q75_box.jpeg 480w, https://www.nielsburghoorn.com/post/arduino-phone/final_device2_hu9322d2f4c176785103df90e9eeef41fc_424856_1024x0_resize_q75_box.jpeg 1024w"
width="2048"
height="1536"
loading="lazy"
alt="Wow!">
&lt;/a>
&lt;figcaption>Wow!&lt;/figcaption>
&lt;/figure>&lt;/p>
&lt;h3 id="the-final-product">The final product&lt;/h3>
&lt;p>So what now?&lt;/p>
&lt;blockquote>
&lt;p>Well&amp;hellip; you need to make another one, otherwise you have nothing to send to.&lt;/p>
&lt;/blockquote>
&lt;p>Let&amp;rsquo;s say you are done, you have got 2 Arduino-Phones. Upload the above code to both devices, and power them using their micro-USB port. Now you are ready to convince someone else to actually use it!&lt;/p>
&lt;p>&lt;figure style="flex-grow: 159; flex-basis: 381px">
&lt;a href="https://www.nielsburghoorn.com/post/arduino-phone/rs_pair.jpeg" data-size="2048x1287">&lt;img src="https://www.nielsburghoorn.com/post/arduino-phone/rs_pair.jpeg"
srcset="https://www.nielsburghoorn.com/post/arduino-phone/rs_pair_hud07a367a35c808019845a77302bc0714_339924_480x0_resize_q75_box.jpeg 480w, https://www.nielsburghoorn.com/post/arduino-phone/rs_pair_hud07a367a35c808019845a77302bc0714_339924_1024x0_resize_q75_box.jpeg 1024w"
width="2048"
height="1287"
loading="lazy"
alt="Look at them go, ready to conquer the world">
&lt;/a>
&lt;figcaption>Look at them go, ready to conquer the world&lt;/figcaption>
&lt;/figure>&lt;/p>
&lt;p>So how far apart can you go with these things? Well, I have tested the range, and it seems that you can take the communication of the Arduino-Phones are worth approximately 20m, given you have a thin walls in between.&lt;/p>
&lt;h3 id="extending-the-range">Extending the range&lt;/h3>
&lt;p>If you have thick walls or you want to communicate with the neighbour or your with your neighbour&amp;rsquo;s neigbour (which is not you), this might be your cue to strengthen the signal. Extending the range can be done with a simple antenna (the reach will be ~1km in open air), but this is something for another post. See you next time!&lt;/p></description></item></channel></rss>